<!DOCTYPE html>
<html>
<head>
<script src="webjars/jquery/2.2.4/jquery.min.js"></script>
<script type="text/javascript">
$(function(){
	
	
	$('#next').on('click',function(){
		var $order= $('#order');	
		var $id1 = $('#id1');
		var $id2 = $('#id2');
		var $id3 = $('#id3');
		var $id4 = $('#id4');
		
	var res1= {
		id1: $id1.val(),
		id2: $id2.val(),
		id3: $id3.val(),
		id4: $id4.val(),
		
	         }; 
	var rest1 = JSON.stringify(res1);
			$.ajax({
				type:'post',
				contentType: 'application/json',
			    url : '/request1',
			    data: rest1,
			    cache: false,
			    success: function(data)
			    {
			    	
			    	$('#First').hide();
			    	$('#first2').show();
			    	
			    	alert("How are you");
			    	
			    	
			    
			    
			    
			    },
			    error: function(data){
			    	/*var jon=JSON.stringify(data);*/
			    	alert("i am fine");
			    }
			   
			
			      });
	});
	$('#id9').on('click',function(){
		var $order= $('#order');	
		
		var $id5 = $('#id5');
		var $id6 = $('#id6');
		var $id7 = $('#id7');
		var $id8 = $('#id8');
	var res2= {
		
		id5: $id5.val(),
		id6: $id6.val(),
		id7: $id7.val(),
		id8: $id8.val(),
	         }; 
	var rest2 = JSON.stringify(res2);
			$.ajax({
				type:'post',
				contentType: 'application/json',
			    url : '/request2',
			    data: rest2,
			    cache: false,
			    success: function(data)
			    {
			    	
			    	
			    	
			    	alert("How are you");
			    	
			    	
			    
			    
			    
			    },
			    error: function(data){
			    	/*var jon=JSON.stringify(data);*/
			    	alert("i am fine");
			    }
			   
			
			      });
	});
	
	
	
	
	$('#id10').on('click',function(){
		$('#first2').hide();
		$('#second').show();
	});
	
	
	$('#forget').on('click',function(){
		$('#second').hide();
		$('#fourth').show();
	});
	
	
	
	$('#login').on('click',function(){
		var $login1 = $('#login1');
		var $login2 = $('#login2');
		var res= {
				login1: $login1.val(),
				login2: $login2.val(),
				
			      }; 
		var two = JSON.stringify(res);
		$.ajax({
			type:'post',
			contentType: 'application/json',
		    url : '/logrequest',
		    data: two,
		    cache: false,
		    success: function(data)
		    {
		    	
		    	var jon=JSON.stringify(data);
		    	
		    	/*$('#feedback').load(data);*/
		    	
		    	/*var jon=JSon.stringify(data);
		    	
		    	alert(jon);*/
		    	$('#second').hide();
				$('#third').show();
		    	alert(data);
		    
		    
		    
		    },
		    error: function(data){
		    	var jon=JSON.stringify(data);
		    	alert(jon);
		    }
		   
		
		      });
	
});
$('#fourthbutton').on('click',function(){
	var $resetid = $('#resetid');
	var $question= $('#question');
	var $secret = $('#secret');
	var $resetlogin = $('#resetlogin');
	var reset= {
			resetid: $resetid.val(),
			question: $question.val(),
			secret: $secret.val(),
	        resetlogin: $resetlogin.val(),
			
		      }; 
	var four= JSON.stringify(reset);
	$.ajax({
		type:'post',
		contentType: 'application/json',
	    url : '/resetrequest',
	    data: four,
	    dataType: 'json',
	    cache: false,
	    success: function(data)
	    {
	    	
	    	
	    	
	    	var jon=JSON.stringify(data);
	    	
	    	alert(jon);
	    	
	    
	    
	    
	    },
	    error: function(data){
	    	var jon=JSON.stringify(data);
	    	alert(" please provide correct credentials");
	    }
	   
	
	      });

});

$('#logout').on('click',function(){
	
	$.ajax({
		type:'get',
		contentType: 'application/json',
	    url : '/logoutrequest',
	    cache: false,
	    success: function(data)
	    {
	    	
	    	
	    	$('#third').hide();
			$('#second').show();
	    	alert('you have logged out succesfully');
	    
	    
	    
	    },
	    error: function(data){
	    	var jon=JSON.stringify(data);
	    	alert(jon);
	    }
	   
	
	      });

});

$('#searchemp').on('click',function(){
	var $search = $('#search');
	var info= {
			search: $search.val(),
			  }; 
	var information= JSON.stringify(info);
	$.ajax({
		type:'post',
		contentType: 'application/json',
	    url : '/getinforequest',
	    data: information,
	    dataType: 'json',
	    cache: false,
	    success: function(data)
	    {
	    	 var json=JSON.stringify(data);
	    	 alert(json);
	         console.log("success :",data);
	         var josn="<h4>Search Result</h4><pre>"	+JSON.stringify(data,null,4)+ "</pre>";
	         $('#show').html(josn);
	    },
	    error: function(data){
	    
	    	var josn="<h4>Search Result</h4><pre>"	+"No users found"+ "</pre>";
		     $('#show').html(josn);
	    }
	   
	
	      });

});


});




</script>
</head>
<body>


<div id="First"> 
<h1>Please Register</h1>
<table>
<tr>
       <td> USERNAME:</td><td><input type="text" name="it1" id="id1" maxlength =8 ></td>
</tr>
<tr>
          <td>EMP_ID:</td><td><input type="text" name="it2" id="id2"  required></td>
</tr>          
<tr>
    <td> DESIGNATION:</td><td><input type="text" name="it3" id="id3" maxlength ="25" data-minlength="3"></td>
</tr>
<tr>
           <td>EMAIL:</td><td><input type="email" name="it4" id="id4"></td>
</tr>
<tr>
<td><button id="next">NEXT</button>
</tr>
</table>
</div>
<div id="first2" hidden="true">
<table>
<tr>
<td>EMP_ID:</td><td><input type="text" name="it2" id="id5"  required></td>
</tr>
<tr>
        <td>PASSWORD:</td><td><input type="Password" name="it5" id="id6"></td>
</tr>
<tr>
<td>
SECURITY QUESTION:</td><td><select id="id7" name="security">
<option value="tree">Your Project Name</option>
<option value="tree1">Your ODC Number</option>
<option value="tree2">Your Reporting location</option>
</select></td>
</tr>
<tr>

     <td> YOUR ANSWER:</td><td><input type="text" id="id8" name="answer" maxlength ="25" data-minlength="3"></td>
</tr>
<tr>
                <td><button id="id9" >Click</button> 
                <button id="id10">continue to  Login</button></td>
                  
</tr>
</table>
</div>
<div id="second" hidden="true">
<table>
<tr>
<td>          <h2>LOGIN FORM</h2></td>
</tr>
<tr>
<td>          <input type="text" id="login1" placeholder="Emp_id">  </td>
</tr>
<tr>
<td>         <input type="password" id="login2" placeholder="password"> </td>
</tr>
<tr>
<td><button id="login">LOGIN</button>     </td>
</tr>
<tr>
<td><button id="forget">Forget Password</button>
<button id="register">Continue to register</button></td>
</tr>
</table>

</div>  
<div id="fourth" hidden="true" >
<h3>RESET PASSWORD</h3>
<table>
<tr>
          <td>EMP_ID:</td><td><input type="text" name="it2" id="resetid"  required></td>
</tr> 
<tr>
<td>
SECURITY QUESTION:</td><td><select id="question" name="security">
<option value="tree">Your Project Name</option>
<option value="tree1">Your ODC Number</option>
<option value="tree2">Your Reporting location</option>
</select></td>
</tr>
<tr>

     <td> YOUR ANSWER:</td><td><input type="text" id="secret" name="answer" maxlength ="25" data-minlength="3"></td>
</tr>
<tr>
<td>New Password</td>
<td>         <input type="password" id="resetlogin" placeholder="password"> </td>
</tr>
<tr>
<td>
<button id="fourthbutton">Reset Password</button>
</td>
</tr>
</table>
</div>
<div id="third" hidden="true">

<h4>Welcome</h4>
<div id="show"></div>
<input type="text" id="search" name="searching" placeholder="find employees by designation "><br>
<button id="searchemp">SEARCH</button>
<button id="logout">logout</button>

</div>              
</body>
</html>